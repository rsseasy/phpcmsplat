function viod(){return!1}function getserverdt(n){$.get("/api/serverdt.aspx",function(t){n(parseInt(t))})}function scrollBarTop(n,t){t||(t="html,body");$(t).animate({scrollTop:n},500)}var Cookie={},Storage,Url,allowinput,transadapter,ImAdapter;Cookie.domain=location.host;Cookie.Get=function(n){if(document.cookie)return document.cookie.replace(/; /img,";").toObject(";")[n]||!1};Cookie.Set=function(n,t,i,r){var f,u;return(t=""+t,f=/^s?[\d\w\u4e00-\u9fa5]*$/img,!n.match(f)||!t.match(f))?!1:(i=i||"",i&&(u=new Date,u.setDate(u.getDate()+i),i=";expires="+(window.ActiveXObject?u.toGMTString():u)),r&&(r=";domain="+r),document.cookie=n+"="+t+";path=/"+i+r,!0)};Cookie.Remove=function(n){this.Set(n,"",-100)};Cookie.RemoveAll=function(){for(var t=document.cookie.split(";"),i=t.length,n=0;n<i;n++)this.Remove(t[n].split("=")[0])};Storage={};Storage.Set=function(n,t){this.remove(n);window.localStorage?window.localStorage.setItem(n,t):Cookie.Set(n,t,360)};Storage.Get=function(n){return window.localStorage?window.localStorage.getItem(n):Cookie.Get(n)};Storage.remove=function(n){window.localStorage?window.localStorage.removeItem(n):Cookie.Remove(n)};String.prototype.trimleft=function(){return this.replace(/^\s+/,"")};String.prototype.trimright=function(){return this.replace(/\s+$/,"")};String.prototype.trim=function(){return this.trimleft().trimright()};String.prototype.toJson=function(){return eval("("+this+")")};String.prototype.delHtml=function(){return this.replace(/<.+?>/img,"")};String.prototype.parseDate=function(){try{var n=this.match(/\d+/img);return n[1]=n[1]-1,new Date(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])||0,parseInt(n[4])||0,parseInt(n[5])||0)}catch(t){return new Date}};String.prototype.getEntity=function(){for(var n="",i=this.length,t=0;t<i;t++)n=n+"&#"+this.charCodeAt(t)+";";return n};String.prototype.toEntity=function(){for(var i=arguments.length,t=this,n=0;n<i;n++)t=t.replace(new RegExp(arguments[n],"img"),arguments[n].getEntity());return t};String.prototype.toDateCn=function(){return this.parseDate().toDateCn()};String.prototype.toObject=function(n){var t,i;if(!this.replace(/\s/img,""))return{};var r=this.split(n||"&"),f=r.length,u={};for(t=0;t<f;t++)i=r[t].split("="),u[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return u};String.prototype.round=function(n){var t=parseFloat(isNaN(this)?0:this).round(n);return t=t+1/Math.pow(10,n+1)+"",t.substring(0,t.indexOf(".")+n+1)};String.prototype.idcard=function(n){return this+(this.length>17?"":n?"X":"x")};String.prototype.padleft=function(n,t){var i=this.length,f=this,r,u;for(i=n-i,r="",u=0;u<i;u++)r+=t;return r+f};String.prototype.padright=function(n,t){var i=this.length,f=this,r,u;for(i=n-i,r="",u=0;u<i;u++)r+=t;return f+r};String.prototype.ParseDate=function(){try{var n=this.match(/\d+/img);return n[1]=n[1]-1,new Date(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])||0,parseInt(n[4])||0,parseInt(n[5])||0)}catch(t){return new Date}};String.prototype.tomoney=function(n,t){var u="",c=this.match(/^\d/)&&this.indexOf(".")==-1?this+".00":this,f=c.split("."),i,e,r;if(t){var o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖","拾"],s=["亿","万","仟","佰","拾","兆","万","仟","佰","拾","亿","仟","佰","拾","万","仟","佰","拾","元","角","分"].reverse(),h=f[0].length;for(i=0;i<h;i++)u+=o[f[0].substr(i,1)]+s[h-i+1];for(i=0;i<2;i++)u+=o[f[1].substr(i,1)]+s[1-i]}else f[0]&&(e=/(\d{1,3})?(\d{3})?(\d{3})?(\d{3})?(\d{3})?$/,r=e.exec(f[0]),r&&(r.splice(0,1),u=r.toString())),f[1]&&(e=/^(\d{3})?(\d{3})?(\d{3})?(\d{3})?(\d{1,3})?/,r=e.exec(f[1]),r&&(r.splice(0,1),u+="."+r.toString())),u=u.replace(/,{2,}/g,",").replace(",.",".").replace(".,",".");return u||n||"0.00"};Date.prototype.subtract=function(n){return typeof n=="string"&&(n=n.parseDate()),new Date(this-n-288e5)};Date.prototype.addYear=function(n){return this.setYear(this.getYear()+n)};Date.prototype.addMonth=function(n){return this.setMonth(this.getMonth()+n)};Date.prototype.addDay=function(n){return this.setDate(this.getDate()+n)};Date.prototype.addHour=function(n){return this.setHours(this.getHours()+n)};Date.prototype.addMinutes=function(n){return this.setMinutes(this.getMinutes()+n)};Date.prototype.addSeconds=function(n){return this.setSeconds(this.getSeconds()+n)};Date.prototype.GetCnWeek=function(){return["日","一","二","三","四","五","六"][this.getDay()]};Date.prototype.GetFirstDayWeek=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.getDay()};Date.prototype.GetPreMonthDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setDate(n.getDate()-1),parseInt(n.getDate())};Date.prototype.GetNextMonthDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+2),n.setDate(n.getDate-1),parseInt(n.getDate())};Date.prototype.GetMaxDay=function(){var n=this.toString().ParseDate();return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),parseInt(n.getDate())};Date.prototype.GetPreMonth=function(){var n=this.toString("yyyy-MM-dd").ParseDate();return n.setDate(1),n.setMonth(n.getMonth()-1),n};Date.prototype.GetNextMonth=function(){var n=this.toString("yyyy-MM-dd").ParseDate();return n.setDate(1),n.setMonth(n.getMonth()+1),n};Date.prototype.toString=function(n){var i,r,t;n=n||"yyyy-MM-dd HH:mm:ss";i={yyyy:this.getFullYear(),yy:this.getFullYear().toString().substring(2),MM:this.getMonth()+1,dd:this.getDate(),HH:this.getHours(),hh:this.getHours(),mm:this.getMinutes(),ss:this.getSeconds()};for(r in i)t=i[r],t.toString()<10&&(t="0"+t),n=n.replace(r,t);return n};Date.prototype.toDateCn=function(n){var t=(new Date).subtract(this),i,r;return t.getFullYear()>1970?this.toString(n):t.getMonth()>=3?this.toString("MM月dd日 hh:mm"):(i=t.getDate(),i==2)?this.toString("前天 hh:mm"):i==1?this.toString("昨天 hh:mm"):(r=t.getHours(),r>0&&r<24)?this.toString("今天 hh:mm"):"1秒前"};Number.prototype.round=function(n){var t=Math.pow(10,n);return Math.round(this*t)/t};Number.prototype.floor=function(n){var t=Math.pow(10,n);return Math.floor(this*t)/t};Number.prototype.tomoney=function(n){return this.toString().tomoney(n)};Url=self.location.search.replace(/^\?/,"").toObject();Object.HasChild=function(n){for(var t in n)return!0;return!1};Object.Query=function(n,t){var r,f,u,i;try{if(!n)return{};if(!t)return n;r={};switch(t.constructor){case Array:u=t[1];t[1].constructor!=RegExp&&(u=new RegExp("^"+t[1]+"$","img"));for(i in n)n[i][t[0]].toString().match(u)&&(r[i]=n[i]);break;case Number:case String:for(i in n)n[i]==t&&(r[i]=n[i]);break;case Object:for(f in t){u=t[f];t[f].constructor!=RegExp&&(u=new RegExp("^"+t[f]+"$","img"));for(i in n)n[i][f].toString().match(u)&&(r[i]=n[i])}break;default:r=n}return r}catch(e){alert("在对像查询中出现错误："+t+","+e.messaage)}};Object.toJson=function(n,t){if(!n)return null;if(n.constructor==Array)return Array.toJson(n);t&&(n=this.Query(n,t));var r="",u=null,i=null;for(u in n){i=n[u]===undefined?"undefined":n[u];u='"'+u+'"';switch(i.constructor){case String:i='"'+i.toEntity('"')+'"';break;case Array:i=Array.toJson(i);break;case Boolean:i="true";break;case Object:i=Object.toJson(i)}r+=u+":"+i+","}return r.length>1&&(r=r.substring(0,r.length-1)),"{"+r+"}"};Object.Count=function(n,t){var i=0,r;t&&(n=this.Query(n,t));for(r in n)i++;return i};Object.toArray=function(n){var t=[];for(var i in n)t.push(i);return t};Array.IsExist=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i]==t)return i;return!1};Array.toObject=function(n){for(var i={},r=n.length,t=0;t<r;t++)i[n[t]]=t+1;return i};Array.toJson=function(n){for(var i="",t=null,u=n.length,r=0;r<u;r++){t=n[r];isNaN(t)||(t=parseInt(t)||t);switch(t.constructor){case Number:break;case String:t='"'+t.toEntity('"')+'"';break;case Array:t=Array.toJson(t);break;case Object:t=Object.toJson(t);break;default:t='"'+t.toString().toEntity('"')+'"'}i+=t+","}return i.length>1&&(i=i.substring(0,i.length-1)),"["+i+"]"};jQuery.fn.extend({selectcascade:function(){$(this).each(function(){function r(f){var c=Object.Query(u,[1,f]),o="";if($.each(c,function(n,t){o+='<option value="'+n+'">'+t[0]+"<\/option>"}),o.length!=0){var e=n.find("select"),s=e.length,h=t[s];h||(h=t[0],e.removeAttr("name"));e=$('<select name="'+h+'"><\/select>');e.html(o);n.append(e);e.change(function(){for(var n=$(this);n.next().length;)n.next().remove();r(this.value)});e.find("option[value='"+i[s]+"']").length&&e.val(i[s]);e.change()}}var n=$(this),u=dictdata[n.attr("selectcascade")]||{},t=(n.attr("dict-name")||"").split(","),i=(n.attr("dict-val")||"").split(",");r(0)})},dictparse:function(){$(this).each(function(){var n=$(this),i=n.attr("dictparse"),r=dictdata[i]||{},u=(n.attr("dict-val")||"").split(","),f=n.attr("dict-split")||"",t=[];$.each(u,function(n,i){i=r[i]||i;i.constructor==Array&&(i=i[0]);t.push(i)});switch(n.attr("dict-tag")){case"checkbox":case"radio":return $("[name="+i+"]").val(t),!0}switch(this.tagName.toLowerCase()){case"select":case"input":n.val(t);break;default:n.html(t.join(f))}})},lazyload:function(){function i(){var i=n.scrollTop(),u=i+t,r=n.find("[lazyload]");r.each(function(){var r=$(this).offset().top,n,t;r>=i&&r<u&&(n=$(this),t=new Image,t.onload=function(){n[0].tagName.toLowerCase()=="img"||n.attr("src",t.src);t=null},t.src=n.attr("lazyload"),n.removeAttr("lazyload"))});r=null}var n=$(this),t;n.scroll(function(){i()});$(document).ready(function(){i()});t=n.height()+(scroller?n.offset().top:0)},horizontalslip:function(){$(this).each(function(){function l(){u=parseInt(n[3])||e.width();r.find(">*").width(u);r.width(o*u);i.eq(t).mouseover()}function s(){a>0&&(f=setTimeout(function(){++t>=o&&(t=0);i.eq(t).mouseover()},a))}var e=$(this),u=0,n=e.attr("horizontalslip").split(","),i=e.find(n[0]),r=$("#"+n[1]),h=n[2],o,c;n[3]=="auto"&&$(window).resize(l);o=i.length;c=parseInt(n[4]||1e3);r.show();l();var a=parseInt(n[5]||0),f=null,t=0;i.mouseover(function(n){n.stopPropagation();f&&(clearTimeout(f),f=null);t=$(this).index();i.removeClass(h);$(this).addClass(h);r.stop();var e=-t*u;r.animate({marginLeft:e},c,function(){s()})}).mouseout(s);n[6]&&$("#"+n[6]).click(function(){i.eq(++t).mouseover()});n[7]&&$("#"+n[7]).click(function(){i.eq(--t).mouseover()});s()})},loopslip:function(){$(this).each(function(){function s(){i=parseInt(r[1])||n.parent().width();n.find(">*").width(i);n.width(n.find(">*").length*i)}function o(){f>0&&(u&&(clearTimeout(u),u=null),u=setTimeout(function(){e.click()},f))}var t=$(this),i=0,f=0,r=t.attr("loopslip").split(","),n,u;f=parseInt(r[3]||0);n=$("#"+r[0]);n.show();r[1]=="auto"&&$(window).resize(s);s();var h=parseInt(r[2]||1e3),l=t.find("[loopleft]"),c=t.find("[loopright]"),e=c;t.find("[loopleft]").click(function(){e=l;n.stop(!1,!0);n.animate({"margin-left":-i},h,function(){var t=n.find(">*");n.append(t.first());n.css({"margin-left":0});o()})});t.find("[loopright]").click(function(){e=c;var t=n.find(">*"),r=t.last();r.insertBefore(t.first());n.css({"margin-left":-i});n.stop();n.animate({"margin-left":0},h,function(){o()})});u=null;o()})},verticalslip:function(){$(this).each(function(){function h(){f=parseInt(n[3])||r.find(">*").first().height();r.parent().height(f)}function c(){autotime>0&&(u=setTimeout(function(){++t>=l&&(t=0);i.eq(t).mouseover()},autotime))}var o=$(this),n=o.attr("verticalslip").split(","),i=o.find(n[0]),l=i.length,r=$("#"+n[1]),s=n[2],f=0;n[3]=="auto"&&$(window).resize(h);h();var a=parseInt(n[4]||1e3),t=0,u=null;i.mouseover(function(){e.stopPropagation();u&&(clearTimeout(u),u=null);t=$(this).index();i.removeClass(s);$(this).addClass(s);r.stop();var n=-t*f;r.animate({marginTop:n},a,function(){c()})});n[6]&&$("#"+n[6]).click(function(){i.eq(++t).mouseover()});n[7]&&$("#"+n[7]).click(function(){i.eq(--t).mouseover()});c()})},switchslip:function(){$(this).each(function(){var r=$(this),n=r.attr("switchslip").split(","),u=r.find(n[0]),t=$("#"+n[1]).find(">*"),f=n[2],e=parseInt(n[3]||1e3),i=t.first();u.mouseover(function(){var n=$(this);u.removeClass(f);n.addClass(f);t.fadeOut(e);i=t.eq(n.index());i.stop();i.fadeIn(e)})})},tabswitch:function(){$(this).each(function(){var u=$(this),n=u.attr("tabswitch").split(","),t=u.find(n[0]),i=$("#"+n[1]).find(">*"),r;i.hide();r=n[2];t.click(function(n){n.preventDefault();var u=$(this);t.removeClass(r);u.addClass(r);i.hide();i.eq(u.index()).show()});t.first().click()})},menuslip:function(){$(this).each(function(){var r=$(this),i=r.attr("menuslip").split(","),n=r.find(i[0]),t=i[1];n.mouseover(function(i){i.stopPropagation();n.removeClass(t);$(this).addClass(t)});n.click(function(i){i.stopPropagation();n.removeClass(t);var r=$(this);r.addClass(t);n.removeAttr("current");r.attr("current","current")});n.mouseout(function(i){i.stopPropagation();var r=$(this);r.attr("current")||(r.removeClass(t),n.filter("[current]").addClass(t))});n.eq(parseInt(i[2])).click()})},scrolltoel:function(){$(this).click(function(){var n=$(this).attr("scrolltoel").split(",");scrollBarTop($("#"+n[0]).offset().top+parseInt(n[1]||0))})},backtotop:function(){$(this).click(function(){scrollBarTop(0)})},underline:function(){$(this).each(function(){var f=$(this),n=f.attr("underline").split(","),r=f.find(n[0]),t=$("#"+n[1]);t.show();var e=parseInt(n[2]||200),u=parseInt(n[3])||0,i=r.first();r.mouseover(function(){i=$(this);t.stop();t.animate({left:i.offset().left-u/2,width:i.outerWidth()+u},e)});r.eq(n[4]||0).mouseover();$(window).resize(function(){t.css("left",i.offset().left-u/2)})})},touchmove:function(n){var t={left:$.noop,right:$.noop,up:$.noop,down:$.noop,touchstart:$.noop,touchmove:$.noop,touchend:$.noop,dis:120};return $.each(n,function(n,i){t[n.toLowerCase()]=i}),this.each(function(n,i){var r=$(i);r.on("touchstart.touchmove.founder mousedown.touchmove.founder",function(n){var o=n.type=="touchstart"?n.originalEvent.touches[0]:n,r=o.pageX,u=o.pageY,f=r-$(this).position().left,e=u-$(this).position().top,s=0,h=0;t.touchstart.call(i,{event:o,pagex:r,pagey:u,posLeft:f,posTop:e});$(document).on("touchmove.touchmove.founder mousemove.touchmove.founder",function(n){var o=n.type=="touchmove"?n.originalEvent.touches[0]:n;s=o.pageX;h=o.pageY;t.touchmove.call(i,{event:o,movex:s-r,movey:h-u,posX:s-f,posY:h-e});n.preventDefault()});$(document).on("touchend.touchmove.founder mouseup.touchmove.founder",function(n){var h=n.type=="touchend"?n.originalEvent.changedTouches[0]:n,o=h.pageX,s=h.pageY,c=Math.abs(o-r),l=Math.abs(o-u),a=null;a=c>=l?o<r?c>t.dis?"left":null:c>t.dis?"right":null:s<u?l>t.dis?"up":null:l>t.dis?"down":null;a&&t[a].call(i,{event:h,movex:o-r,movey:s-u,posX:o-f,posY:s-e});t.touchend.call(i,{event:h,movex:o-r,movey:s-u,posX:o-f,posY:s-e});$(document).off(".touchmove.founder")})})})}});$("[horizontalslip]").horizontalslip();$("[verticalslip]").verticalslip();$("[backtotop]").backtotop();$("[scrolltoel]").scrolltoel();$("[switchslip]").switchslip();$("[tabswitch]").tabswitch();$("[menuslip]").menuslip();$("[loopslip]").loopslip();$("[underline]").underline();$(window).ready(function(){$("[selectcascade]").selectcascade();$.each(window.dictdata||{},function(n){$("["+n+"]").each(function(){var t=$(this);t.attr({dictparse:n,"dict-val":t.attr(n)});t.dictparse()})});$("[dict-select]").each(function(){var n=$(this),i=window.dictdata[n.attr("dict-select")]||{},t="";$.each(i,function(n,i){t+='<option value="'+n+'">'+i+"<\/option>"});this.tagName.toLowerCase()!="select"&&(n=n.append("<select><\/select>"));n.append(t);n.val(n.attr("def")||"")});$("[dict-radio]").each(function(){var n=$(this),t=window.dictdata[n.attr("dict-radio")]||{},f="",i=n.attr("dict-name"),r=n.attr("dict-keys")||"",u;r.length&&(r=r.split(","),u={},$.each(r,function(n,i){t[i]&&(u[i]=t[i])}),t=u);$.each(t,function(n,t){f+='<lable for="'+i+n+'"><input type="radio" id="'+i+n+'" name="'+i+'" value="'+n+'" />'+(t.constructor==Array?t[0]:t)+"<\/lable>"});n.html(f);n.find("input[name="+i+"]").val([n.attr("def")||""])})});$("[riqidata]").each(function(){var t=$(this),n=t.attr("riqidata").split(","),i;if(n[0]){i=n[1]||"yyyy-MM-dd HH:mm:ss";switch(this.tagName.toLowerCase()){case"input":t.val(new Date(parseInt(eval(n[0]))*1e3).toString(i));break;default:t.html(new Date(parseInt(eval(n[0]))*1e3).toString(i))}}});$("[ueditor]").each(function(){UE.getEditor(this.id,eval("({"+$(this).attr("ueditor")+"})"))});$("[ip]").each(function(){var t=$(this),i=parseInt(t.attr("ip")).toString("16").padleft(8,"0"),n=i.match(/\w{2}/img);t.html(parseInt(n[0],16)+"."+parseInt(n[1],16)+"."+parseInt(n[2],16)+"."+parseInt(n[3],16))});$("[fixedphone]").each(function(){var i=$(this),n=i.attr("fixedphone"),t,r;if(!(n.length<8)){t=/^(10|2[\d]|[\d]{3})/g;r=n.match(t);switch(this.tagName.toLowerCase()){case"input":break;default:i.html(n.replace(t,function(n){return"0"+n+"-"}))}}});$("[allselect]").click(function(){var n=$("[name='"+$(this).attr("allselect")+"']");n.each(function(){this.checked=!this.checked})});$("[empty]").each(function(){var n=$(this),t=n.attr("empty").split("|");n.html(t[0]||t[1]||"")});$("[money]").each(function(){var t=$(this),n=t.attr("money").split(",");t.html(n[0].tomoney(n[1],n[2]))});$("[idcard]").each(function(){var t=$(this),n=t.attr("idcard");n.length==17&&(n+="X");switch(this.tagName.toLowerCase()){case"input":t.val(n);break;default:t.html(n)}});"placeholder"in document.createElement("input")||($("[placeholder]").each(function(){var n=$(this),f=n.attr("placeholder"),t=n.height(),i=n.outerWidth(),r=parseInt(n.css("margin-right")),e=i-n.width(),u=$("<label>").insertAfter(n).html(f).css({"margin-top":-t,"margin-left":-(i+r),"margin-right":r,height:t,width:i,"line-height":t+"px"}).addClass("placeholder").hide();u.attr("id",n.attr("name")+"placeholder");u.click(function(){n.focus()})}),$("[placeholder]").focus(function(){var n=$(this),t=$("#"+n.attr("name")+"placeholder");t.hide()}).keyup(function(){var n=$(this),t=$("#"+n.attr("name")+"placeholder");n.val()==""?t.show():t.hide()}).blur(function(){$(this).keyup()}).blur());$("[selectall]").click(function(){$("["+$(this).attr("selectall")+"]").prop("checked",this.checked)});$("input[type!=hidden]").each(function(n){var t=$(this);t.prop("tabindex",n+1)});$(document).on("dragstart",function(n){n.preventDefault()});allowinput={};allowinput.number=function(n){var t=n.target.value;return n.which==189?!t.match(/^-[\d\.]*$/):n.which>47&&n.which<58||n.which>95&&n.which<106};allowinput.real=function(n){return n.which==110?!n.target.value.match(/\./img):this.number(n)||n.which==190};allowinput.time=function(n){return this.number(n)||n.which==59};allowinput.money=function(n){return this.real(n)};allowinput.idcard=function(n){return this.number(n)||n.which==88};$("[allowinput]").each(function(){var n=$(this);n.keydown(function(t){return t.which==8||t.which==9||t.which==13||t.which==46||t.which>36&&t.which<41||allowinput[n.attr("allowinput")](t)})});window.popuplayer&&(popuplayer.initialize(),window.popuplayer=popuplayer,window.parent&&(popuplayer=window.parent.popuplayer));transadapter={id:""};transadapter.factory=function(n,t,i){var r,u;if(n=$(n),r=$(n.attr(t)||"#transadapter"),i=eval(n.attr("select")||r.attr("select")||i),i!=!1&&(u=$(r.attr("find")),transadapter.id=n.attr("val")||(n.attr("keyval")?u.attr(n.attr("keyval")):(r.attr("keyval")?u.attr(r.attr("keyval")):u.val())||""),!transadapter.id)){window.popuplayer?popuplayer.showError("请选择"):alert("请选择");return}transadapter[t]&&transadapter[t](n)};$("[transadapter]").click(function(n){n.preventDefault();var t=$(this);transadapter.factory(t,t.attr("transadapter"))});$("[appendxinxi]").click(function(n){n.preventDefault();transadapter.factory(this,"appendxinxi",!1)}),function(){function r(){for(var i=t.length,n=0;n<i;n++)t[n].load(),t[n].getAttribute("loop")&&t[n].addEventListener("pause",function(){this.currentTime==0&&this.play()});window.removeEventListener("touchstart",r)}for(var t=[],i=document.getElementsByTagName("audio"),n=0;n<i.length;n++)t.push(i[n]);for(i=document.getElementsByTagName("video"),n=0;n<i.length;n++)t.push(i[n]);window.addEventListener("touchstart",r)}();ImAdapter={host:null,im:null,Ready:function(n){var t=$.hubConnection((n||this.host)+"signalr");this.im=t.createHubProxy("imHub");this.im.on("adapter",this.onAdapter);t.start().done(function(n){ImAdapter.onReady(n)})},onError:function(n){alert(n)},onReady:function(){},onAdapter:function(n,t,i,r){ImAdapter[n]?ImAdapter[n](t,i,r):alert(n+"适配器不存在！")},UserLogin:function(n){this.im.invoke("userLogin",n).done(function(n){ImAdapter.onUserLogin(n)})},onUserLogin:function(n){alert(n)},onUserOffline:function(){},BroadCast:function(n,t){this.im.invoke("broadCast",n,t).done(function(n){ImAdapter.onBroadCast(n)})},onBroadCast:function(){},onReceiveBroadCast:function(){},Notify:function(n,t,i){this.im.invoke("notify",n,t,i).done(function(n){ImAdapter.onNotify(n)})},onNotify:function(){},onReceiveNotify:function(){},GetChatList:function(n,t){this.im.invoke("getChatList",n,t).done(function(n){ImAdapter.onGetChatList(n)})},onGetChatList:function(){},Chat:function(n,t,i){this.im.invoke("chat",n,t,i).done(function(n){ImAdapter.onChat(n)})},onChat:function(){},onReceiveChat:function(){}}